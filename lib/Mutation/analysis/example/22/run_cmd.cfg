#! /bin/bash

# Do: 'source <This file>' in the the cmd script file

SEMU_CFG_ZESTI_EXE_DIR='/home/shadowvm/shadow/klee-change/Release+Asserts/bin/' #$(dirname `which klee`)
SEMU_CFG_SEMU_EXE_DIR=$(readlink -f ~/)'/mytools/klee-semu/build/Release+Asserts/bin' # "$SEMU_BINARY_DIR"
test -d $SEMU_CFG_SEMU_EXE_DIR || SEMU_CFG_SEMU_EXE_DIR=$(readlink -f ~/)'/mytools/klee-semu/build/bin' # "$SEMU_BINARY_DIR"
SEMU_CFG_LLVMGCC_EXE_DIR='/home/shadowvm/shadow/kleeDeploy/llvm-gcc4.2-2.9-x86_64-linux/bin' #$(dirname `which llvm-gcc`)
SEMU_CFG_LLVM27_EXE_DIR='/home/shadowvm/shadow/kleeDeploy/llvm-2.9/Release+Asserts/bin' #$(dirname `which llvm-link`)
SEMU_CFG_COVERAGE_THERSHOLD=0 #20
SEMU_CFG_TEST_SAMPLE_MODE="PASS" #'DEV', 'KLEE', 'NUM'
SEMU_CFG_TEST_SAMPLE_PERCENTAGE=100 #10

# Maximum total number of threads to run in parallel
SEMU_RUN_CFG_MAX_PARALLELISM=10

#SEMU_CFG_SEMU_TIMEOUT=86400 # 24h
#SEMU_CFG_SEMU_TIMEOUT=43200 # 12h
#SEMU_CFG_SEMU_TIMEOUT=21600 # 6h
#SEMU_CFG_SEMU_TIMEOUT=10800 # 3h
#SEMU_CFG_SEMU_TIMEOUT=7200 # 2h
#SEMU_CFG_SEMU_TIMEOUT=3600 # 1h
SEMU_CFG_SEMU_TIMEOUT=1800 # 30min
#SEMU_CFG_SEMU_TIMEOUT=60 # 1min

SEMU_CFG_SEMU_MAXMEMORY=8000

SEMU_CFG_SEMU_PRECONDITION_LENGTH=""
SEMU_CFG_SEMU_MUTANT_MAX_FORK=""
SEMU_CFG_SEMU_GENTEST_FOR_DISCARDED_FROM_NUMCHECK=""
SEMU_CFG_SEMU_POST_CHECKPOINT_CONTINUE_PROBA=""
SEMU_CFG_SEMU_MUTANT_CONTINUE_STRATEGY=""
SEMU_CFG_SEMU_MAX_TESTS_PER_MUTANTS=""
SEMU_CFG_DISABLE_STATEDIFF_GEN_TEST=""
SEMU_CFG_GEN_ONLY_CRITICAL_DIFF=off
#SEMU_CFG_SEMU_GENTEST_FOR_DISCARDED_FROM_NUMCHECK="0 2 4"
#SEMU_CFG_SEMU_POST_CHECKPOINT_CONTINUE_PROBA="0.0 0.25 0.5 0.75"
#SEMU_CFG_SEMU_MUTANT_CONTINUE_STRATEGY="mdo rnd"
#SEMU_CFG_SEMU_MAX_TESTS_PER_MUTANTS="20"
#SEMU_CFG_DISABLE_STATEDIFF_GEN_TEST=off
#SEMU_CFG_GEN_ONLY_CRITICAL_DIFF=off

# generate param combination
for pre_cond_len in -1 #-2 0 5 50
do
    for max_fork in 0 7 #50
    do
        for gen_disc_test_from in 0 2 #5
        do 
            for cont_proba in 0 0.25 #0.5 0.75
            do
                for cont_strat in mdo rnd
                do
                    for mut_max_tests in 1 5 #20
                    do
                        for do_state_diff in on off
                        do
                            SEMU_CFG_SEMU_PRECONDITION_LENGTH+="$pre_cond_len "
                            SEMU_CFG_SEMU_MUTANT_MAX_FORK+="$max_fork "
                            SEMU_CFG_SEMU_GENTEST_FOR_DISCARDED_FROM_NUMCHECK+="$gen_disc_test_from "
                            SEMU_CFG_SEMU_POST_CHECKPOINT_CONTINUE_PROBA+="$cont_proba "
                            SEMU_CFG_SEMU_MUTANT_CONTINUE_STRATEGY+="$cont_strat "
                            SEMU_CFG_SEMU_MAX_TESTS_PER_MUTANTS+="$mut_max_tests "
                            SEMU_CFG_DISABLE_STATEDIFF_GEN_TEST+="$do_state_diff "
                        done
                    done
                done
            done
        done
    done
done

